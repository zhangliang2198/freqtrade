{
    "llm_config": {
        "_comment": "Anthropic Claude Configuration (支持 Prompt Caching)",
        "enabled": true,
        "provider": "anthropic",
        "provider_type": "http",
        "model": "claude-3-5-sonnet-20241022",
        "api_url": "https://api.anthropic.com/v1/messages",
        "api_key": "your-anthropic-api-key-here",
        "timeout": 30,
        "max_retries": 3,
        "temperature": 0.1,

        "headers": {
            "anthropic-version": "2023-06-01",
            "content-type": "application/json",
            "x-api-key": "{api_key}"
        },

        "request_body": {
            "model": "{model}",
            "max_tokens": 4096,
            "temperature": "{temperature}",
            "system": [
                {
                    "type": "text",
                    "text": "You are a professional cryptocurrency trading analyst. Always respond in valid JSON format.",
                    "cache_control": {"type": "ephemeral"}
                }
            ],
            "messages": [
                {
                    "role": "user",
                    "content": "{prompt}"
                }
            ]
        },

        "response_path": {
            "content_path": "content.0.text",
            "ensure_json": true,
            "usage_path": "usage",
            "usage_fields": {
                "input_tokens": "input_tokens",
                "output_tokens": "output_tokens",
                "cache_read_tokens": "cache_read_input_tokens",
                "cache_creation_tokens": "cache_creation_input_tokens"
            }
        },

        "cost_config": {
            "_comment": "Pricing for Claude 3.5 Sonnet with Prompt Caching",
            "input_cost_per_million": 3.0,
            "output_cost_per_million": 15.0,
            "cache_read_cost_per_million": 0.30,
            "cache_creation_cost_per_million": 3.75
        },

        "decision_points": {
            "entry": {
                "enabled": true,
                "cache_ttl": 60,
                "confidence_threshold": 0.7
            },
            "exit": {
                "enabled": true,
                "cache_ttl": 30,
                "confidence_threshold": 0.6
            },
            "stake": {
                "enabled": false,
                "cache_ttl": 60,
                "confidence_threshold": 0.5,
                "min_stake_multiplier": 0.5,
                "max_stake_multiplier": 2.0
            },
            "adjust_position": {
                "enabled": false,
                "cache_ttl": 60,
                "confidence_threshold": 0.6,
                "max_adjustment_ratio": 0.3
            },
            "leverage": {
                "enabled": false,
                "cache_ttl": 60,
                "confidence_threshold": 0.5,
                "min_leverage": 1.0,
                "max_leverage": 5.0
            }
        },

        "performance": {
            "log_to_database": true,
            "log_prompts": false,
            "log_responses": true
        },

        "context": {
            "max_candles": 100,
            "include_indicators": true,
            "include_portfolio": true
        }
    }
}
