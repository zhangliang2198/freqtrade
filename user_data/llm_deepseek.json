{
    "llm_config": {
        "_comment": "DeepSeek Configuration (非常便宜的选择)",
        "enabled": true,
        "provider": "deepseek",
        "provider_type": "http",
        "model": "deepseek-v3-1-terminus",
        "api_url": "https://ark.cn-beijing.volces.com/api/v3/chat/completions",
        "api_key": "532d1f95-039c-46b2-8ec2-3834c8070a96",
        "timeout": 180,
        "max_retries": 3,
        "lookback_candles": 100,
        "include_orderbook": true,
        "include_recent_trades": true,
        "include_funding_rate": true,
        "include_portfolio_state": true,
        "temperature": 0.1,
        "aggregation_interval_minutes": 60,
        "enable_background_aggregation": true,
        "prompt_style": "aggressive",
        "_prompt_style_comment": "Prompt style: 'conservative' (风险厌恶，小仓位，严格止损) or 'aggressive' (激进进取，大仓位，追求高收益) or 'default' (默认，使用无后缀的原始提示词)",
        "headers": {
            "Content-Type": "application/json",
            "Authorization": "Bearer {api_key}"
        },

        "request_body": {
            "model": "{model}",
            "messages": [
                {
                    "role": "system",
                    "content": "You are a professional cryptocurrency trading analyst. Always respond in valid JSON format."
                },
                {
                    "role": "user",
                    "content": "{prompt}"
                }
            ],
            "temperature": "{temperature}",
            "response_format": {
                "type": "json_object"
            }
        },

        "response_path": {
            "content_path": "choices.0.message.content",
            "ensure_json": true,
            "usage_path": "usage",
            "usage_fields": {
                "input_tokens": "prompt_tokens",
                "output_tokens": "completion_tokens",
                "total_tokens": "total_tokens",
                "cache_read_tokens": "prompt_cache_hit_tokens",
                "cache_creation_tokens": "prompt_cache_miss_tokens"
            }
        },

        "cost_config": {
            "_comment": "Pricing for DeepSeek with Prompt Caching",
            "input_cost_per_million": 4,
            "output_cost_per_million": 12,
            "cache_read_cost_per_million": 1,
            "cache_creation_cost_per_million": 1
        },
        "decision_points": {
            "entry": {
                "enabled": true,
                "cache_ttl": 60,
                "confidence_threshold": 0.5
            },
            "exit": {
                "enabled": true,
                "cache_ttl": 60,
                "confidence_threshold": 0.5
            },
            "stake": {
                "enabled": true,
                "cache_ttl": 60,
                "min_stake_multiplier": 0.5,
                "max_stake_multiplier": 5.0,
                "max_stake_per_trade": {
                    "mode": "percent",
                    "value": 10
                },
                "min_stake_per_trade": {
                    "mode": "fixed",
                    "value": 2
                }
            },
            "adjust_position": {
                "enabled": true,
                "cache_ttl": 60,
                "confidence_threshold": 0.5,
                "max_adjustment_ratio": 5.0
            },
            "leverage": {
                "enabled": true,
                "cache_ttl": 60,
                "min_leverage": 2.0,
                "max_leverage": 20.0
            }
        },
        "performance": {
            "log_to_database": true,
            "log_prompts": true,
            "log_responses": true,
            "export_metrics": true
        },
        "context": {
            "lookback_candles": 100,
            "include_indicators": true,
            "include_orderbook": false,
            "include_recent_trades": false,
            "include_funding_rate": false,
            "include_portfolio_state": true,
            "include_account_info": true,
            "include_wallet_info": true,
            "include_positions_info": true,
            "include_closed_trades_info": true
        },
        "fund_check": {
            "min_available_balance_pct": 0.01
        }
    }
}

